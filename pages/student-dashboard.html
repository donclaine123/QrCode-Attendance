<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Dashboard - AttendEase</title>
  <link rel="stylesheet" href="../css/student-dashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
  <link rel="icon" href="data:," />
</head>

<body>
  <div class="dashboard">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="school-info">
        <div class="school-avatar">📊</div>
        <div class="school-name">AttendEase</div>
      </div>
      
      <nav>
        <ul class="nav-menu">
          <li class="nav-item">
            <a href="#" class="nav-link active" id="nav-scan">
              <span class="nav-icon">📷</span>
              Scan QR
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" id="nav-attendance">
              <span class="nav-icon">📚</span>
              Attendance
            </a>
          </li>
          <li class="nav-item">
            <a href="../index.html" class="nav-link">
              <span class="nav-icon">🏠</span>
              Home
            </a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link" id="logout-btn">
              <span class="nav-icon">🚪</span>
              Logout
            </a>
          </li>
        </ul>
      </nav>
    </aside>
    
    <!-- Main Content -->
    <main class="main-content">
      <div class="content-header">
        <h1 class="page-title">Student Dashboard</h1>
        <div id="welcome-message"></div>
      </div>
      
      <div id="student-section" style="display: none;">
        <!-- QR Scanner Section -->
        <section id="qr-scanner-section" class="dashboard-section" style="display: none;">
          <h3>Scan QR Code for Attendance</h3>
          <div class="video-container">
            <video id="video" autoplay playsinline></video>
            <canvas id="canvas" style="display: none;"></canvas>
            <div id="scannerBox"></div>
          </div>
          <div id="scanStatus"></div>
          <div id="scan-result"></div>
          <div class="scan-controls">
            <button id="startScanBtn" class="action-button">
              <span class="btn-icon">📷</span>
              Start Scanner
            </button>
          </div>
        </section>

        <!-- Dashboard Actions -->
        <div class="dashboard-actions" style="text-align: center; margin-bottom: 20px;">
          <button id="scan-qr-btn" class="btn btn-primary">
            <span class="btn-icon">📷</span>
            Scan QR Code
          </button>
        </div>

        <!-- Attendance Records Section -->
        <section id="attendance-section" class="dashboard-section">
          <div class="section-header">
            <h3 class="section-title">Your Attendance Records</h3>
          </div>
          <div id="attendance-records"></div>
        </section>
      </div>
      
      <!-- Debug Section (hidden by default in CSS) -->
      <div id="debug-section">
        <h4>Debug Information</h4>
        <button id="test-cookies-btn">Test Cookies</button>
        <button id="check-auth-btn">Check Auth</button>
      </div>
    </main>
  </div>

  <script src="../js/config.js"></script>
  <script src="../js/student-dashboard.js"></script>
  <script src="../js/scanner.js"></script>
</body>

</html>